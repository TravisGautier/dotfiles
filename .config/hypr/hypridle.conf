general {
    ignore_dbus_inhibit = false  # respects video players
}

# Lock screen after 5 minutes idle
listener {
    timeout = 300
    on-timeout = ~/.local/bin/idle-log.sh "LOCK_START" && ~/.local/bin/lock-with-video.sh
    on-resume = ~/.local/bin/idle-log.sh "LOCK_RESUME"
}

# Screen off after 10 minutes
listener {
    timeout = 600
    on-timeout = ~/.local/bin/idle-log.sh "DPMS_OFF" && hyprctl dispatch dpms off
    on-resume = ~/.local/bin/idle-log.sh "DPMS_ON" && hyprctl dispatch dpms on
}

# Suspend after 15 minutes
listener {
    timeout = 900
    on-timeout = ~/.local/bin/idle-log.sh "SUSPEND_START" && systemctl suspend
}
